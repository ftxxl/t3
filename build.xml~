<project>

	<path id="junit" location="junit-4.10.jar"/>

	<property name="pname" value="de/tudo/secse/lsys"/>

	<target name="compile">
		<mkdir dir="bin"/>
		<javac srcdir="src" destdir="bin"/>
	</target>

	<target name="compiletest">
		<mkdir dir="bin/test/"/>
		<javac 	srcdir="." 
			destdir="bin/test">
			<classpath>
				<path refid="junit"/>
			</classpath>
		</javac>
	</target>

	<target name="jar" depends="compile">
		<jar destfile="SieveOfEratosthenes.jar" basedir="bin">
			<manifest>
				<attribute name="Main-Class" value="de.tudo.secse.lsys.SieveOfEratosthenes"/>
			</manifest>
		</jar>
	</target>

	<target name="run" depends="jar">
		<java jar="SieveOfEratosthenes.jar" fork="true"/>
	</target>

	<target name="test" depends="compiletest,jar">
		<junit printsummary="yes">
			<classpath>
				<path location="SieveOfEratosthenes.jar"/>	
			</classpath>

			<batchtest fork="yes">
				<fileset dir="bin/test" includes="de/tudo/secse/lsys/Tester.class"/>
			</batchtest>
		</junit>
	</target>

	<target name="clean">
		<delete dir="bin"/>
	</target>	
</project>
